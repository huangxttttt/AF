# 暗访者（Chrome 页面采集助手）

一个可以帮助你 **从任意网页采集 HTML 内容 / 局部区域内容** 并上传到后端的 Chrome 扩展。

支持：
- 一键上传整个页面 body
- 鼠标自由选择页面某块元素并上传
- 高亮显示任意 CSS 选择器匹配的元素
- 展示选择的 HTML 源码
- 自定义可拖动浮动面板
- 自动展示上传状态（成功 / 失败）
- API_URL 可配置（通过 config.json）

---

## ✨ 功能特性

### 🔹 1. 一键上传整个页面 body
点击按钮即可将：
- 当前页面 URL
- 当前页面 HTML（body.innerHTML）
- 类型标记（`selectionType = "body"`）

上传至后端。

---

### 🔹 2. 鼠标选择页面某一块区域并上传
点击“选择页面某一块并上传”后：

- 页面进入高亮选择模式
- 鼠标 hover 自动高亮元素
- 点击任意元素 → 自动上传该元素的 `outerHTML`
- 并在浮动面板展示刚才选取的 HTML

---

### 🔹 3. 根据 CSS 选择器自动高亮目标区域
在浮动面板输入一个 CSS 选择器：

```
#main > div:nth-of-type(2)
```

点击“高亮”，插件会：
- 找到对应元素
- 自动滚动到视图中央
- 为其添加高亮边框

---

### 🔹 4. 漂亮、可拖动的浮动面板（Overlay）
- 悬浮在右下角
- 鼠标拖动标题栏即可移动
- 不阻挡页面操作
- 包含按钮区、状态栏、作者署名等 UI

---

### 🔹 5. 上传状态可视化
上传时：

```
正在上传…
```

成功后：

```
上传成功 ✓
```

失败显示：

```
上传失败：xxx
```

---

### 🔹 6. API_URL 可配置（无需改代码）
插件目录下包含：

```
config.json
```

内容示例：

```json
{
  "API_URL": "http://localhost:8000/html/receive-body"
}
```

你可以随时修改 API_URL（换后端环境），不需要更改 JS。

---

## 🛠 安装方式（开发者模式）

1. 下载或克隆整个项目
2. 打开 Chrome 输入：

```
chrome://extensions/
```

3. 右上角启用 **开发者模式**
4. 点击 **“加载已解压的扩展程序”**
5. 选择本插件目录即可

---

## 🔧 如何修改 API_URL

打开插件根目录的：

```
config.json
```

修改为你自己的后端服务地址：

```json
{
  "API_URL": "http://192.168.1.10:8000/html/receive-body"
}
```

保存 → 刷新插件即可生效。

---

## 📦 目录结构

```
/extension
 ├── manifest.json
 ├── background.js
 ├── config.json
 ├── icons/
 │    ├── icon_16.png
 │    ├── icon_48.png
 │    └── icon_128.png
 └── (其他资源文件)
```

---

## ✏ 作者

© 2025 by **easymer‘s huangxiaotao**

---

## 📫 若需帮助

如果你需要：

- 优化脚本结构
- 增加更多功能（自动抽取表格、AI 解析、智能提示）
- 发布到 Chrome Web Store
- 生成图标、封面、应用说明

欢迎联系我或提交 issue。
